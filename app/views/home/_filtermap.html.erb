<%=@map.div(:width => 630, :height => 280).html_safe %>
<%= javascript_tag do %>
			var tinyIcon = new GIcon();
			tinyIcon.image = "http://labs.google.com/ridefinder/images/mm_20_purple.png";
			tinyIcon.shadow = "http://labs.google.com/ridefinder/images/mm_20_shadow.png";
			tinyIcon.iconSize = new GSize(12, 20);
			tinyIcon.shadowSize = new GSize(22, 20);
			tinyIcon.iconAnchor = new GPoint(6, 20);
			tinyIcon.infoWindowAnchor = new GPoint(5, 1);


			  var map = new GMap2(document.getElementById("map_div"));
        map.setCenter(new GLatLng(13.83333,100.522413), 13);
        map.setUIToDefault();
        <%@stations = StationsTranslation.all%>
        	<%@stations.each_with_index do |station,index| %>
        	var point = new GLatLng(<%=station.latitude%>,<%=station.longtitude%>);
        	marker = new GMarker(point,{icon:tinyIcon});
          map.addOverlay(marker);

          GEvent.addListener(point, "click", function() {
             marker.openInfoWindowHtml(point,'<b><%=station.title%></b>');
           });
        	<%end%>
<% end %>
